Please ensure the code is formatted correctly and does not contain any errors. Also, please include any necessary imports at the beginning of the code. If you use any external libraries, make sure they are properly installed before running the code. 

Finally, provide a brief explanation of your optimization choices and how they improve performance.