Please use appropriate comments in the code to explain your optimizations.
```