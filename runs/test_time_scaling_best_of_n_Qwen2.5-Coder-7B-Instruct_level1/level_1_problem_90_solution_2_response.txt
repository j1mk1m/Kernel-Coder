### Guidelines:

- Replace the `cumprod` operator with a custom CUDA kernel.
- Ensure that the new implementation maintains the same functionality as the original `cumprod`.
- If possible, optimize the kernel for better performance.
- Avoid using external libraries except for PyTorch and CUDA runtime.
- Provide clear comments within the code explaining key parts of the implementation.
```