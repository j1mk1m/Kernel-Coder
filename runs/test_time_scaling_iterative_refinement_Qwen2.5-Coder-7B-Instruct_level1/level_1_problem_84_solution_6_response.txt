Please provide the updated code with corrections and improvements.
```