Please provide detailed comments explaining any optimizations you made and why they were beneficial.